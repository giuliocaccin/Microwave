<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!--
      The Microwave domain
 parameters will be replaced with the
      document title extracted from the <h1> element or
      file name, if there is no <h1> heading
    -->
    <title>Microwave domain
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="content/style.css" />
    <script src="content/tips.js" type="text/javascript"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
      <style>
          @import url(https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Sans+Mono|Open+Sans:400,600,700);

          /*--------------------------------------------------------------------------
  Formatting for F# code snippets
/*--------------------------------------------------------------------------*/

          /* strings --- and stlyes for other string related formats */
          span.s {
              color: #E0E268;
          }
          /* printf formatters */
          span.pf {
              color: #E0C57F;
          }
          /* escaped chars */
          span.e {
              color: #EA8675;
          }

          /* identifiers --- and styles for more specific identifier types */
          span.id {
              color: #d1d1d1;
          }
          /* module */
          span.m {
              color: #43AEC6;
          }
          /* reference type */
          span.rt {
              color: #43AEC6;
          }
          /* value type */
          span.vt {
              color: #43AEC6;
          }
          /* interface */
          span.if {
              color: #43AEC6;
          }
          /* type argument */
          span.ta {
              color: #43AEC6;
          }
          /* disposable */
          span.d {
              color: #43AEC6;
          }
          /* property */
          span.prop {
              color: #43AEC6;
          }
          /* punctuation */
          span.p {
              color: #43AEC6;
          }
          /* function */
          span.f {
              color: #e1e1e1;
          }
          /* active pattern */
          span.pat {
              color: #4ec9b0;
          }
          /* union case */
          span.u {
              color: #4ec9b0;
          }
          /* enumeration */
          span.e {
              color: #4ec9b0;
          }
          /* keywords */
          span.k {
              color: #FAB11D;
          }
          /* comment */
          span.c {
              color: #808080;
          }
          /* operators */
          span.o {
              color: #af75c1;
          }
          /* numbers */
          span.n {
              color: #96C71D;
          }
          /* line number */
          span.l {
              color: #80b0b0;
          }
          /* mutable var or ref cell */
          span.v {
              color: #d1d1d1;
              font-weight: bold;
          }
          /* inactive code */
          span.inactive {
              color: #808080;
          }
          /* preprocessor */
          span.prep {
              color: #af75c1;
          }
          /* fsi output */
          span.fsi {
              color: #808080;
          }

          /* omitted */
          span.omitted {
              background: #3c4e52;
              border-radius: 5px;
              color: #808080;
              padding: 0px 0px 1px 0px;
          }
          /* tool tip */
          div.tip {
              background: #475b5f;
              border-radius: 4px;
              font: 11pt 'Droid Sans', arial, sans-serif;
              padding: 6px 8px 6px 8px;
              display: none;
              color: #d1d1d1;
              pointer-events: none;
          }

          table.pre pre {
              padding: 0px;
              margin: 0px;
              border: none;
          }

          table.pre, pre.fssnip, pre {
              line-height: 13pt;
              border: 1px solid #d8d8d8;
              border-collapse: separate;
              white-space: pre;
              font: 9pt 'Droid Sans Mono',consolas,monospace;
              width: 90%;
              margin: 10px 20px 20px 20px;
              background-color: #212d30;
              padding: 10px;
              border-radius: 5px;
              color: #d1d1d1;
              max-width: none;
          }

              pre.fssnip code {
                  font: 9pt 'Droid Sans Mono',consolas,monospace;
              }

              table.pre pre {
                  padding: 0px;
                  margin: 0px;
                  border-radius: 0px;
                  width: 100%;
              }

              table.pre td {
                  padding: 0px;
                  white-space: normal;
                  margin: 0px;
              }

                  table.pre td.lines {
                      width: 30px;
                  }

          /*--------------------------------------------------------------------------
  Formatting for page & standard document content
/*--------------------------------------------------------------------------*/

          body {
              font-family: 'Open Sans', serif;
              padding-top: 0px;
              padding-bottom: 40px;
          }

          pre {
              word-wrap: inherit;
          }

          /* Format the heading - nicer spacing etc. */
          .masthead {
              overflow: hidden;
          }

              .masthead .muted a {
                  text-decoration: none;
                  color: #999999;
              }

              .masthead ul, .masthead li {
                  margin-bottom: 0px;
              }

              .masthead .nav li {
                  margin-top: 15px;
                  font-size: 110%;
              }

              .masthead h3 {
                  margin-bottom: 5px;
                  font-size: 170%;
              }

          hr {
              margin: 0px 0px 20px 0px;
          }

          /* Make table headings and td.title bold */
          td.title, thead {
              font-weight: bold;
          }

          /* Format the right-side menu */
          #menu {
              margin-top: 50px;
              font-size: 11pt;
              padding-left: 20px;
          }

              #menu .nav-header {
                  font-size: 12pt;
                  color: #606060;
                  margin-top: 20px;
              }

              #menu li {
                  line-height: 25px;
              }

          /* Change font sizes for headings etc. */
          #main h1 {
              font-size: 26pt;
              margin: 10px 0px 15px 0px;
              font-weight: 400;
          }

          #main h2 {
              font-size: 20pt;
              margin: 20px 0px 0px 0px;
              font-weight: 400;
          }

          #main h3 {
              font-size: 14pt;
              margin: 15px 0px 0px 0px;
              font-weight: 600;
          }

          #main p {
              font-size: 11pt;
              margin: 5px 0px 15px 0px;
          }

          #main ul {
              font-size: 11pt;
              margin-top: 10px;
          }

          #main li {
              font-size: 11pt;
              margin: 5px 0px 5px 0px;
          }

          #main strong {
              font-weight: 700;
          }

          /*--------------------------------------------------------------------------
  Formatting for API reference
/*--------------------------------------------------------------------------*/

          .type-list .type-name, .module-list .module-name {
              width: 25%;
              font-weight: bold;
          }

          .member-list .member-name {
              width: 35%;
          }

          #main .xmldoc h2 {
              font-size: 14pt;
              margin: 10px 0px 0px 0px;
          }

          #main .xmldoc h3 {
              font-size: 12pt;
              margin: 10px 0px 0px 0px;
          }

          .github-link {
              float: right;
              text-decoration: none;
          }

              .github-link img {
                  border-style: none;
                  margin-left: 10px;
              }

              .github-link .hover {
                  display: none;
              }

              .github-link:hover .hover {
                  display: block;
              }

              .github-link .normal {
                  display: block;
              }

              .github-link:hover .normal {
                  display: none;
              }

          /*--------------------------------------------------------------------------
  Links
/*--------------------------------------------------------------------------*/

          h1 a, h1 a:hover, h1 a:focus,
          h2 a, h2 a:hover, h2 a:focus,
          h3 a, h3 a:hover, h3 a:focus,
          h4 a, h4 a:hover, h4 a:focus,
          h5 a, h5 a:hover, h5 a:focus,
          h6 a, h6 a:hover, h6 a:focus {
              color: inherit;
              text-decoration: inherit;
              outline: none
          }

          /*--------------------------------------------------------------------------
  Additional formatting for the homepage
/*--------------------------------------------------------------------------*/

          #nuget {
              margin-top: 20px;
              font-size: 11pt;
              padding: 20px;
          }

              #nuget pre {
                  font-size: 11pt;
                  -moz-border-radius: 0px;
                  -webkit-border-radius: 0px;
                  border-radius: 0px;
                  background: #404040;
                  border-style: none;
                  color: #e0e0e0;
                  margin-top: 15px;
              }

          </style>
  </head>
  <body>
    <div class="container">
      <div class="row" style="margin-top:30px">
        <div class="span1"></div>
        <div class="span10" id="main">
          <h1>Microwave domain</h1>
<p>This domain is all about using a Microwave oven.</p>
<p>The oven has:</p>
<ul>
<li>a keypad for entering times</li>
<li>a start button</li>
<li>a button to open the door</li>
</ul>
<h2>Common</h2>
<p>Common types used throughout the domain</p>
<pre class="fssnip highlighted"><code lang="fsharp">    <span class="c">/// A placeholder until we know more</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="rt">UserId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="rt">string</span>

    <span class="c">// We create unit of measures to</span>
    <span class="c">// (a) help with documentation and</span>
    <span class="c">// (b) avoid errors caused by mixing up seconds and milliseconds.</span>

    <span class="c">// NOTE: All the SI Units are available in F# in the FSharp.Data.UnitSystems.SI namespace</span>

    <span class="k">type</span> <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="rt">Measure</span><span class="pn">&gt;]</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="rt">second</span>
    <span class="k">type</span> <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="rt">Measure</span><span class="pn">&gt;]</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="rt">millisecond</span>


    <span class="c">// We create a special `TimeRemaining` type rather than using a simple `int` because</span>
    <span class="c">// (a) `int` is not a word in the domain and</span>
    <span class="c">// (b) it will have constraints (e.g. must be &gt; 0)</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="rt">TimeRemaining</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="uc">TimeRemaining</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="vt">int</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="rt">second</span><span class="pn">&gt;</span>
</code></pre>
<h2>Commands</h2>
<p>Commands to operate the microwave</p>
<pre class="fssnip highlighted"><code lang="fsharp">    <span class="c">/// the complete list of commands</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="rt">Command</span> <span class="o">=</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs10', 13)" onmouseover="showTip(event, 'fs10', 13)" class="uc">Open</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs11', 14)" onmouseover="showTip(event, 'fs11', 14)" class="rt">OpenCommand</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="uc">Close</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="rt">CloseCommand</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="uc">Start</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs15', 18)" onmouseover="showTip(event, 'fs15', 18)" class="rt">StartCommand</span>

    <span class="c">// information associated with the Open command</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="rt">OpenCommand</span> <span class="o">=</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs16', 20)" onmouseover="showTip(event, 'fs16', 20)" class="id">User</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 21)" onmouseover="showTip(event, 'fs2', 21)" class="rt">UserId</span>
        <span class="pn">}</span>

    <span class="c">// information associated with the Close command</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs13', 22)" onmouseover="showTip(event, 'fs13', 22)" class="rt">CloseCommand</span> <span class="o">=</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs17', 23)" onmouseover="showTip(event, 'fs17', 23)" class="id">User</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 24)" onmouseover="showTip(event, 'fs2', 24)" class="rt">UserId</span>
        <span class="pn">}</span>

    <span class="c">// information associated with the Start command</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs15', 25)" onmouseover="showTip(event, 'fs15', 25)" class="rt">StartCommand</span> <span class="o">=</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="id">User</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs2', 27)" onmouseover="showTip(event, 'fs2', 27)" class="rt">UserId</span>
        <span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="id">HowLong</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs7', 29)" onmouseover="showTip(event, 'fs7', 29)" class="rt">TimeRemaining</span>
        <span class="pn">}</span>
</code></pre>
<h2>States</h2>
<p>States the microwave can be in.</p>
<p>Business rules:</p>
<ul>
<li>The microwave cannot be running if the door is open</li>
<li>The microwave cannot be running if the TimeRemaining = 0</li>
<li>New rule: When restarted after pause, TimeRemaining must be the same as when the pause happened.</li>
</ul>
<pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs20', 30)" onmouseover="showTip(event, 'fs20', 30)" class="rt">State</span> <span class="o">=</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs21', 31)" onmouseover="showTip(event, 'fs21', 31)" class="uc">DoorOpenIdle</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs22', 32)" onmouseover="showTip(event, 'fs22', 32)" class="rt">DoorOpenIdleState</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs23', 33)" onmouseover="showTip(event, 'fs23', 33)" class="uc">DoorClosedIdle</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs24', 34)" onmouseover="showTip(event, 'fs24', 34)" class="rt">DoorClosedIdleState</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs25', 35)" onmouseover="showTip(event, 'fs25', 35)" class="uc">Running</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs26', 36)" onmouseover="showTip(event, 'fs26', 36)" class="rt">RunningState</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs27', 37)" onmouseover="showTip(event, 'fs27', 37)" class="uc">DoorOpenPaused</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs28', 38)" onmouseover="showTip(event, 'fs28', 38)" class="rt">DoorOpenPausedState</span>

    <span class="c">/// A place holder for state associated with the door being open.</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs22', 39)" onmouseover="showTip(event, 'fs22', 39)" class="rt">DoorOpenIdleState</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 40)" onmouseover="showTip(event, 'fs22', 40)" class="uc">DoorOpenIdleState</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="rt">DoorClosedIdleState</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs24', 42)" onmouseover="showTip(event, 'fs24', 42)" class="uc">DoorClosedIdleState</span>

    <span class="c">/// The running state needs to keep track of the time remaining</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs26', 43)" onmouseover="showTip(event, 'fs26', 43)" class="rt">RunningState</span> <span class="o">=</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs29', 44)" onmouseover="showTip(event, 'fs29', 44)" class="id">TimeRemaining</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs7', 45)" onmouseover="showTip(event, 'fs7', 45)" class="rt">TimeRemaining</span>
        <span class="pn">}</span>

    <span class="c">/// The paused state also needs to keep track of the time remaining</span>
    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs28', 46)" onmouseover="showTip(event, 'fs28', 46)" class="rt">DoorOpenPausedState</span> <span class="o">=</span> <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs30', 47)" onmouseover="showTip(event, 'fs30', 47)" class="id">TimeRemaining</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs7', 48)" onmouseover="showTip(event, 'fs7', 48)" class="rt">TimeRemaining</span>
        <span class="pn">}</span>
</code></pre>
<h2>State transitions</h2>
<p>Here, we document how to go from one state of the microwave to another.
E.g. opening a door, starting it, etc.</p>
<pre class="fssnip highlighted"><code lang="fsharp">    <span class="c">// Our first pass at documenting the state transitions is not very informative -- they all look the same!</span>

<span class="c">(*</span>
<span class="c">    type OpenWhenIdle =</span>
<span class="c">        OpenCommand -&gt; State -&gt; State</span>

<span class="c">    type CloseWhenIdle =</span>
<span class="c">        CloseCommand -&gt; State -&gt; State</span>

<span class="c">    type Start =</span>
<span class="c">        StartCommand -&gt; State -&gt; State</span>
<span class="c">*)</span>


    <span class="c">// By using the type associated with each state instead, rather than the state as a whole,</span>
    <span class="c">// the actions become much clearer.</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs31', 49)" onmouseover="showTip(event, 'fs31', 49)" class="rt">OpenWhenIdle</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs11', 50)" onmouseover="showTip(event, 'fs11', 50)" class="rt">OpenCommand</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs24', 51)" onmouseover="showTip(event, 'fs24', 51)" class="rt">DoorClosedIdleState</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 52)" onmouseover="showTip(event, 'fs22', 52)" class="rt">DoorOpenIdleState</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs32', 53)" onmouseover="showTip(event, 'fs32', 53)" class="rt">CloseWhenIdle</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs13', 54)" onmouseover="showTip(event, 'fs13', 54)" class="rt">CloseCommand</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 55)" onmouseover="showTip(event, 'fs22', 55)" class="rt">DoorOpenIdleState</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs24', 56)" onmouseover="showTip(event, 'fs24', 56)" class="rt">DoorClosedIdleState</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs14', 57)" onmouseover="showTip(event, 'fs14', 57)" class="rt">Start</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs15', 58)" onmouseover="showTip(event, 'fs15', 58)" class="rt">StartCommand</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs24', 59)" onmouseover="showTip(event, 'fs24', 59)" class="rt">DoorClosedIdleState</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs26', 60)" onmouseover="showTip(event, 'fs26', 60)" class="rt">RunningState</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs33', 61)" onmouseover="showTip(event, 'fs33', 61)" class="rt">OpenWhenRunning</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs11', 62)" onmouseover="showTip(event, 'fs11', 62)" class="rt">OpenCommand</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs26', 63)" onmouseover="showTip(event, 'fs26', 63)" class="rt">RunningState</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs28', 64)" onmouseover="showTip(event, 'fs28', 64)" class="rt">DoorOpenPausedState</span>

    <span class="k">type</span> <span onmouseout="hideTip(event, 'fs34', 65)" onmouseover="showTip(event, 'fs34', 65)" class="rt">CloseWhenRunning</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs13', 66)" onmouseover="showTip(event, 'fs13', 66)" class="rt">CloseCommand</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs28', 67)" onmouseover="showTip(event, 'fs28', 67)" class="rt">DoorOpenPausedState</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs26', 68)" onmouseover="showTip(event, 'fs26', 68)" class="rt">RunningState</span>
</code></pre>

          <div class="tip" id="fs1">module Domain<br /><br />from Microwave</div>
<div class="tip" id="fs2">type UserId = string<br /><em><br /><br />&#160;A placeholder until we know more</em></div>
<div class="tip" id="fs3">Multiple items<br />val string : value:&#39;T -&gt; string<br /><br />--------------------<br />type string = System.String</div>
<div class="tip" id="fs4">Multiple items<br />type MeasureAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; MeasureAttribute<br /><br />--------------------<br />new : unit -&gt; MeasureAttribute</div>
<div class="tip" id="fs5">[&lt;Measure&gt;]<br />type second</div>
<div class="tip" id="fs6">[&lt;Measure&gt;]<br />type millisecond</div>
<div class="tip" id="fs7">Multiple items<br />union case TimeRemaining.TimeRemaining: int&lt;second&gt; -&gt; TimeRemaining<br /><br />--------------------<br />type TimeRemaining = | TimeRemaining of int&lt;second&gt;</div>
<div class="tip" id="fs8">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />--------------------<br />type int = int32<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int</div>
<div class="tip" id="fs9">type Command =<br />&#160;&#160;| Open of OpenCommand<br />&#160;&#160;| Close of CloseCommand<br />&#160;&#160;| Start of StartCommand<br /><em><br /><br />&#160;the complete list of commands</em></div>
<div class="tip" id="fs10">union case Command.Open: OpenCommand -&gt; Command</div>
<div class="tip" id="fs11">type OpenCommand =<br />&#160;&#160;{User: UserId;}</div>
<div class="tip" id="fs12">union case Command.Close: CloseCommand -&gt; Command</div>
<div class="tip" id="fs13">type CloseCommand =<br />&#160;&#160;{User: UserId;}</div>
<div class="tip" id="fs14">Multiple items<br />union case Command.Start: StartCommand -&gt; Command<br /><br />--------------------<br />type Start = StartCommand -&gt; DoorClosedIdleState -&gt; RunningState</div>
<div class="tip" id="fs15">type StartCommand =<br />&#160;&#160;{User: UserId;<br />&#160;&#160;&#160;HowLong: TimeRemaining;}</div>
<div class="tip" id="fs16">OpenCommand.User: UserId</div>
<div class="tip" id="fs17">CloseCommand.User: UserId</div>
<div class="tip" id="fs18">StartCommand.User: UserId</div>
<div class="tip" id="fs19">StartCommand.HowLong: TimeRemaining</div>
<div class="tip" id="fs20">type State =<br />&#160;&#160;| DoorOpenIdle of DoorOpenIdleState<br />&#160;&#160;| DoorClosedIdle of DoorClosedIdleState<br />&#160;&#160;| Running of RunningState<br />&#160;&#160;| DoorOpenPaused of DoorOpenPausedState</div>
<div class="tip" id="fs21">union case State.DoorOpenIdle: DoorOpenIdleState -&gt; State</div>
<div class="tip" id="fs22">Multiple items<br />union case DoorOpenIdleState.DoorOpenIdleState: DoorOpenIdleState<br /><br />--------------------<br />type DoorOpenIdleState = | DoorOpenIdleState<br /><em><br /><br />&#160;A place holder for state associated with the door being open.</em></div>
<div class="tip" id="fs23">union case State.DoorClosedIdle: DoorClosedIdleState -&gt; State</div>
<div class="tip" id="fs24">Multiple items<br />union case DoorClosedIdleState.DoorClosedIdleState: DoorClosedIdleState<br /><br />--------------------<br />type DoorClosedIdleState = | DoorClosedIdleState</div>
<div class="tip" id="fs25">union case State.Running: RunningState -&gt; State</div>
<div class="tip" id="fs26">type RunningState =<br />&#160;&#160;{TimeRemaining: TimeRemaining;}<br /><em><br /><br />&#160;The running state needs to keep track of the time remaining</em></div>
<div class="tip" id="fs27">union case State.DoorOpenPaused: DoorOpenPausedState -&gt; State</div>
<div class="tip" id="fs28">type DoorOpenPausedState =<br />&#160;&#160;{TimeRemaining: TimeRemaining;}<br /><em><br /><br />&#160;The paused state also needs to keep track of the time remaining</em></div>
<div class="tip" id="fs29">Multiple items<br />RunningState.TimeRemaining: TimeRemaining<br /><br />--------------------<br />type TimeRemaining = | TimeRemaining of int&lt;second&gt;</div>
<div class="tip" id="fs30">Multiple items<br />DoorOpenPausedState.TimeRemaining: TimeRemaining<br /><br />--------------------<br />type TimeRemaining = | TimeRemaining of int&lt;second&gt;</div>
<div class="tip" id="fs31">type OpenWhenIdle = OpenCommand -&gt; DoorClosedIdleState -&gt; DoorOpenIdleState</div>
<div class="tip" id="fs32">type CloseWhenIdle = CloseCommand -&gt; DoorOpenIdleState -&gt; DoorClosedIdleState</div>
<div class="tip" id="fs33">type OpenWhenRunning = OpenCommand -&gt; RunningState -&gt; DoorOpenPausedState</div>
<div class="tip" id="fs34">type CloseWhenRunning = CloseCommand -&gt; DoorOpenPausedState -&gt; RunningState</div>

        </div>
        <div class="span1"></div>
      </div>
    </div>
  </body>
</html>
